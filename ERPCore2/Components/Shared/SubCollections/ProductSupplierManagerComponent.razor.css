/* ProductSupplierManagerComponent 專用樣式 */

/* 手機模式表格樣式 */
@media (max-width: 768px) {
    /* 表格容器 - 允許水平滾動 */
    .table-responsive {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch; /* iOS 平滑滾動 */
        border-radius: 0.375rem;
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    /* 表格基本設定 */
    .table {
        min-width: 800px; /* 設定最小寬度，防止欄位被擠壓 */
        margin-bottom: 0;
        white-space: nowrap; /* 防止文字換行 */
    }

    /* 表頭樣式 */
    .table thead th {
        position: sticky;
        top: 0;
        background-color: var(--bs-light) !important;
        z-index: 10;
        border-bottom: 2px solid var(--bs-border-color);
        font-weight: 600;
        padding: 0.75rem 0.5rem;
        min-width: 100px; /* 確保每個欄位都有最小寬度 */
    }

    /* 特定欄位寬度設定 */
    .table thead th:nth-child(1) { /* 供應商 */
        min-width: 150px;
    }
    
    .table thead th:nth-child(2) { /* 供應商代碼 */
        min-width: 120px;
    }
    
    .table thead th:nth-child(3) { /* 報價 */
        min-width: 100px;
    }
    
    .table thead th:nth-child(4) { /* 交期 */
        min-width: 80px;
    }
    
    .table thead th:nth-child(5) { /* 最小訂購量 */
        min-width: 120px;
    }
    
    .table thead th:nth-child(6) { /* 主要供應商 */
        min-width: 100px;
    }
    
    .table thead th:nth-child(7) { /* 操作 */
        min-width: 120px;
        /* 移除 sticky positioning，讓操作欄隨表格滑動 */
        background-color: var(--bs-light) !important;
    }

    /* 表格內容樣式 */
    .table tbody td {
        padding: 0.75rem 0.5rem;
        vertical-align: middle;
        border-top: 1px solid var(--bs-border-color);
    }

    /* 操作欄位跟隨表格滑動 */
    .table tbody td:last-child {
        /* 移除 sticky positioning，讓操作欄隨表格滑動 */
        background-color: white;
        min-width: 60px; /* 確保最小寬度 */
    }

    /* 主要供應商行的特殊樣式 */
    .table-warning td:last-child {
        background-color: #fff3cd !important;
    }

    /* 按鈕群組在手機模式下的調整 */
    .btn-group-sm .btn {
        padding: 0.25rem 0.4rem;
        font-size: 0.75rem;
    }

    /* 徽章樣式調整 */
    .badge {
        font-size: 0.7rem;
        padding: 0.25rem 0.5rem;
    }

    /* 滾動條樣式 */
    .table-responsive::-webkit-scrollbar {
        height: 8px;
    }

    .table-responsive::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
    }

    .table-responsive::-webkit-scrollbar-thumb {
        background: var(--bs-primary);
        border-radius: 4px;
    }

    .table-responsive::-webkit-scrollbar-thumb:hover {
        background: var(--bs-primary-dark);
    }
}

/* 中等螢幕 (平板) 的調整 */
@media (min-width: 769px) and (max-width: 992px) {
    .table {
        font-size: 0.9rem;
    }
    
    .table th,
    .table td {
        padding: 0.6rem 0.4rem;
    }
}

/* 大螢幕的基本樣式 */
@media (min-width: 993px) {
    .table-responsive {
        border-radius: 0.375rem;
    }
    
    .table thead th {
        padding: 0.75rem;
    }
    
    .table tbody td {
        padding: 0.75rem;
    }
}

/* 通用樣式改進 */
.card {
    border: 1px solid var(--bs-border-color);
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
}

.card-header {
    border-bottom: 1px solid var(--bs-border-color);
    background-color: var(--bs-light);
}

/* 表格 hover 效果 */
.table-hover tbody tr:hover {
    background-color: rgba(var(--bs-primary-rgb), 0.05);
}

/* 主要供應商行的 hover 效果 */
.table-hover tbody tr.table-warning:hover {
    background-color: rgba(255, 193, 7, 0.2);
}

/* 空狀態樣式改進 */
.text-center.py-5 {
    padding: 3rem 1rem !important;
}

.text-center.py-5 i {
    opacity: 0.6;
    margin-bottom: 1rem;
}

/* Modal 在手機模式下的調整 */
@media (max-width: 768px) {
    .modal-dialog {
        margin: 0.5rem;
        max-width: calc(100% - 1rem);
    }
    
    .modal-body .row .col-md-6 {
        margin-bottom: 1rem;
    }
    
    .modal-metadata {
        font-size: 0.75rem;
    }
    
    .modal-metadata .d-flex {
        flex-direction: column;
        gap: 0.25rem !important;
    }
}

/* 響應式文字大小 */
@media (max-width: 576px) {
    .card-header h6 {
        font-size: 0.9rem;
    }
    
    .card-header .badge {
        font-size: 0.65rem;
    }
    
    .table {
        font-size: 0.8rem;
    }
}

/* 高對比度和無障礙改進 */
@media (prefers-contrast: high) {
    .table {
        border: 2px solid var(--bs-border-color);
    }
    
    .table th,
    .table td {
        border: 1px solid var(--bs-border-color);
    }
}

/* 減少動畫偏好 */
@media (prefers-reduced-motion: reduce) {
    .table-responsive {
        -webkit-overflow-scrolling: auto;
    }
}
