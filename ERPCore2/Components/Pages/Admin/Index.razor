@page "/admin"
@using ERPCore2.Components.Shared
@using ERPCore2.Components.Shared.Headers
@using ERPCore2.Services.Interfaces

<PageTitle>系統管理</PageTitle>

<PermissionCheck Permission="System.Admin">
    <div class="container-fluid">
        @* 頁面標題 *@
        <PageTitleComponent Title="系統管理" 
                          IconClass="bi bi-gear-fill"
                          Subtitle="管理系統使用者、角色與權限設定" />        @* 管理功能卡片 *@
        <div class="row g-4">
            @* 員工管理 *@
            <AdminFeatureCardComponent 
                Title="員工管理"
                Description="管理系統使用者帳號、基本資料、角色指派及帳號狀態"
                IconClass="bi bi-person-lines-fill"
                IconBackgroundClass="bg-primary"
                MainActionUrl="/admin/users"
                MainActionButtonClass="btn-primary"
                SecondaryActionUrl="/admin/users/create"
                SecondaryActionText="新增員工"
                SecondaryActionButtonClass="btn-outline-primary"
                FooterText="管理員工帳號與個人資料" />

            @* 角色管理 *@
            <AdminFeatureCardComponent 
                Title="角色管理"
                Description="設定系統角色、權限配置及角色層級管理"
                IconClass="bi bi-shield-fill"
                IconBackgroundClass="bg-success"
                MainActionUrl="/admin/roles"
                MainActionButtonClass="btn-success"
                SecondaryActionText="新增角色"
                SecondaryActionButtonClass="btn-outline-success"
                IsSecondaryActionDisabled="true"
                FooterText="開發中..." />

            @* 權限管理 *@
            <AdminFeatureCardComponent 
                Title="權限管理"
                Description="管理系統功能權限、模組存取權及權限群組"
                IconClass="bi bi-key-fill"
                IconBackgroundClass="bg-warning"
                MainActionUrl="/admin/permissions"
                MainActionButtonClass="btn-warning"
                SecondaryActionText="新增權限"
                SecondaryActionButtonClass="btn-outline-warning"
                IsSecondaryActionDisabled="true"
                FooterText="開發中..." />
        </div>

        @* 系統統計資訊 *@
        <div class="row g-4 mt-4">
            <div class="col-12">
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-transparent">
                        <h5 class="card-title mb-0">
                            <i class="bi bi-graph-up me-2"></i>系統概況
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row text-center g-4">
                            <div class="col-lg-3 col-md-6">
                                <div class="border-end">
                                    <div class="fs-2 fw-bold text-primary">-</div>
                                    <div class="text-muted">總員工數</div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6">
                                <div class="border-end">
                                    <div class="fs-2 fw-bold text-success">-</div>
                                    <div class="text-muted">啟用帳號</div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6">
                                <div class="border-end">
                                    <div class="fs-2 fw-bold text-warning">-</div>
                                    <div class="text-muted">系統角色</div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6">
                                <div class="fs-2 fw-bold text-info">-</div>
                                <div class="text-muted">系統權限</div>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <small class="text-muted">
                                <i class="bi bi-clock me-1"></i>數據更新：開發中...
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        @* 快速操作 *@
        <div class="row g-4 mt-4">
            <div class="col-12">
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-transparent">
                        <h5 class="card-title mb-0">
                            <i class="bi bi-lightning-fill me-2"></i>快速操作
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex flex-wrap gap-2">
                            <a href="/admin/users/create" class="btn btn-outline-primary btn-sm">
                                <i class="bi bi-person-plus me-1"></i>新增員工
                            </a>
                            <button class="btn btn-outline-success btn-sm" disabled>
                                <i class="bi bi-shield-plus me-1"></i>新增角色
                            </button>
                            <button class="btn btn-outline-warning btn-sm" disabled>
                                <i class="bi bi-key me-1"></i>權限設定
                            </button>
                            <button class="btn btn-outline-info btn-sm" disabled>
                                <i class="bi bi-download me-1"></i>匯出報表
                            </button>
                            <button class="btn btn-outline-secondary btn-sm" disabled>
                                <i class="bi bi-gear me-1"></i>系統設定
                            </button>                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</PermissionCheck>
