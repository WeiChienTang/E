@* 語言與地區 Tab *@
@inject IStringLocalizer<SharedResource> L

<GenericFormComponent TModel="EmployeePreference"
                      Model="@(Model ?? _fallback)"
                      FieldDefinitions="@allFields"
                      FieldSections="@fieldSections" />

@code {
    [Parameter]
    public EmployeePreference? Model { get; set; }

    private readonly EmployeePreference _fallback = new();

    private List<FormFieldDefinition> allFields = new();
    private Dictionary<string, string> fieldSections = new();

    protected override void OnInitialized()
    {
        allFields = new List<FormFieldDefinition>
        {
            new FormFieldDefinition
            {
                PropertyName = nameof(EmployeePreference.Language),
                Label = L["Preference.Language"],
                FieldType = FormFieldType.Select,
                Options = new List<SelectOption>
                {
                    new() { Value = "1", Text = "繁體中文" },
                    new() { Value = "2", Text = "English" },
                    new() { Value = "3", Text = "日本語" },
                    new() { Value = "4", Text = "简体中文" },
                    new() { Value = "5", Text = "Filipino" },
                },
                HelpText = L["Preference.LanguageHelpText"]
            }
        };

        fieldSections = new Dictionary<string, string>
        {
            { nameof(EmployeePreference.Language), L["Preference.LanguageRegion"] }
        };
    }
}
