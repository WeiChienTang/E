# å ±è¡¨ç³»çµ±è¨­è¨ˆç¸½ç¶±

## æ›´æ–°æ—¥æœŸ
2026-02-21

---

## ğŸ“‹ æ¦‚è¿°

ERPCore2 å ±è¡¨ç³»çµ±æ¡ç”¨**çµ±ä¸€æ ¼å¼åŒ–æ¨¡å¼**ï¼Œæä¾›å®Œæ•´çš„å ±è¡¨ç”¢ç”Ÿã€é è¦½ã€åˆ—å°èˆ‡åŒ¯å‡ºåŠŸèƒ½ã€‚ç³»çµ±æ”¯æ´å››å€‹å…¥å£é»è§¸ç™¼åˆ—å°ï¼Œä¸¦é€éè¨»å†Šå¼æ¶æ§‹å¯¦ç¾é«˜åº¦å¯æ“´å±•æ€§ã€‚

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           å ±è¡¨ç³»çµ±å…¥å£é»                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å…¥å£ Aï¼šAlt+R    â”‚  â”‚ å…¥å£ Bï¼šå ±è¡¨ä¸­å¿ƒ â”‚  â”‚ å…¥å£ Cï¼šEditModal   â”‚  â”‚
â”‚  â”‚ (å¿«æ·éµæœå°‹)      â”‚  â”‚ (åˆ†é¡ç€è¦½)       â”‚  â”‚ (å–®ç­†åˆ—å°)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚ é¸æ“‡å ±è¡¨            â”‚ é¸æ“‡å ±è¡¨              â”‚ ç›´æ¥åˆ—å°    â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚             â”‚
â”‚                      â†“                                   â†“             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ GenericReportFilterModal     â”‚    â”‚ ReportPreviewModal         â”‚   â”‚
â”‚  â”‚ (ç¯©é¸ â†’ é è¦½ â†’ åˆ—å°)         â”‚    â”‚ (ç›´æ¥é è¦½ç•¶å‰å–®æ“š)          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚  â”‚ å…¥å£ Dï¼šIndex æ‰¹æ¬¡åˆ—å°        â”‚                                      â”‚
â”‚  â”‚ (ç›´æ¥é–‹å•Ÿç¯©é¸ï¼Œä¸éœ€é¸å ±è¡¨)    â”‚                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
â”‚                                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           æ ¸å¿ƒæœå‹™å±¤                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ IEntityReportService<T>                                          â”‚   â”‚
â”‚  â”‚ â†’ GenerateReportAsync()         ç”¢ç”Ÿ FormattedDocument           â”‚   â”‚
â”‚  â”‚ â†’ RenderToImagesAsync()         æ¸²æŸ“ç‚ºé è¦½åœ–ç‰‡                    â”‚   â”‚
â”‚  â”‚ â†’ RenderBatchToImagesAsync()    æ‰¹æ¬¡æ¸²æŸ“ï¼ˆä½¿ç”¨ BatchReportHelperï¼‰â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ FormattedPrintService                                            â”‚   â”‚
â”‚  â”‚ â†’ RenderToImages()              æ¸²æŸ“ç‚ºåœ–ç‰‡                        â”‚   â”‚
â”‚  â”‚ â†’ Print()                       åˆ—å°åˆ°å°è¡¨æ©Ÿ                      â”‚   â”‚
â”‚  â”‚ â†’ PrintByReportIdAsync()        ä½¿ç”¨å ±è¡¨ ID æŸ¥è©¢å°è¡¨æ©Ÿé…ç½®        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š æ–‡ä»¶å°è¦½

æœ¬å ±è¡¨ç³»çµ±åˆ†ç‚ºå››ä»½è©³ç´°æ–‡ä»¶ï¼Œå„å¸å…¶è·ï¼š

### 1. å…¥å£é»èˆ‡æµç¨‹

| æ–‡ä»¶ | èªªæ˜ | é©ç”¨å ´æ™¯ |
|------|------|----------|
| [README_å ±è¡¨ä¸­å¿ƒè¨­è¨ˆ.md](README_å ±è¡¨ä¸­å¿ƒè¨­è¨ˆ.md) | å ±è¡¨ä¸­å¿ƒèˆ‡å¿«æ·éµæœå°‹çš„è¨­è¨ˆ | å¾é¸å–®æˆ– Alt+R é€²å…¥å ±è¡¨ |
| [README_å ±è¡¨Indexè¨­è¨ˆ.md](README_å ±è¡¨Indexè¨­è¨ˆ.md) | Index é é¢æ‰¹æ¬¡åˆ—å°å¯¦ä½œ | å¾åˆ—è¡¨é ç›´æ¥æ‰¹æ¬¡åˆ—å° |

### 2. æ ¸å¿ƒæ¶æ§‹

| æ–‡ä»¶ | èªªæ˜ | é©ç”¨å ´æ™¯ |
|------|------|----------|
| [README_å ±è¡¨ç¯©é¸æ¶æ§‹è¨­è¨ˆ.md](README_å ±è¡¨ç¯©é¸æ¶æ§‹è¨­è¨ˆ.md) | ç¯©é¸æ¨¡æ¿è¨»å†Šæ©Ÿåˆ¶èˆ‡å¯¦ä½œ | æ–°å¢å ±è¡¨ç¯©é¸åŠŸèƒ½ |
| [README_å ±è¡¨æª”è¨­è¨ˆ.md](README_å ±è¡¨æª”è¨­è¨ˆ.md) | FormattedDocumentã€å ±è¡¨æœå‹™ã€åˆ—å°æœå‹™ | æ–°å¢å ±è¡¨æœå‹™ |

---

## ğŸ”„ å››å€‹å…¥å£é»å°ç…§

| å…¥å£é» | æµç¨‹ | éœ€é¸å ±è¡¨ | æ ¸å¿ƒå…ƒä»¶ |
|--------|------|----------|----------|
| **å¿«æ·éµ Alt+R** | æœå°‹ â†’ ç¯©é¸ â†’ é è¦½ â†’ åˆ—å° | âœ… | GenericSearchModal |
| **å ±è¡¨ä¸­å¿ƒ** | é¸æ“‡ â†’ ç¯©é¸ â†’ é è¦½ â†’ åˆ—å° | âœ… | GenericReportIndexPage |
| **EditModal** | é»æ“Šåˆ—å° â†’ é è¦½ â†’ åˆ—å° | âŒ | GenericEditModalComponent |
| **Index æ‰¹æ¬¡åˆ—å°** | é»æ“Šåˆ—å° â†’ ç¯©é¸ â†’ é è¦½ â†’ åˆ—å° | âŒ | GenericReportFilterModalComponent |

> **é—œéµå·®ç•°**ï¼šEditModal ç›´æ¥åˆ—å°ç•¶å‰å–®æ“šï¼›Index é–‹å•Ÿç¯©é¸ä½†ä¸éœ€é¸æ“‡å ±è¡¨ï¼ˆReportId å›ºå®šï¼‰ã€‚

---

## ğŸ“ ç›®éŒ„çµæ§‹ç¸½è¦½

```
Models/Reports/
â”œâ”€â”€ ReportIds.cs                            # å ±è¡¨ ID å¸¸æ•¸ï¼ˆå”¯ä¸€ä¾†æºï¼‰
â”œâ”€â”€ BatchPrintCriteria.cs                   # æ‰¹æ¬¡åˆ—å°ç¯©é¸æ¢ä»¶
â”œâ”€â”€ FormattedDocument.cs                    # æ ¼å¼åŒ–å ±è¡¨æ–‡ä»¶æ¨¡å‹
â”œâ”€â”€ TableDefinition.cs                      # è¡¨æ ¼å®šç¾©
â”œâ”€â”€ ReportDefinition.cs                     # å ±è¡¨å®šç¾©æ¨¡å‹
â”œâ”€â”€ FilterAttributes/
â”‚   â””â”€â”€ FilterFieldAttributes.cs           # Filter*Attribute å®šç¾©ï¼ˆFilterFK, FilterEnum, FilterDateRange, FilterKeyword, FilterToggleï¼‰
â”œâ”€â”€ FilterCriteria/                         # ç¯©é¸æ¢ä»¶ DTOï¼ˆå±¬æ€§ä¸Šæ¨™è¨˜ Filter*Attributeï¼‰
â”‚   â”œâ”€â”€ IReportFilterCriteria.cs
â”‚   â””â”€â”€ [Entity]Criteria.cs
â””â”€â”€ FilterTemplates/                        # æ¨¡æ¿é…ç½®
    â”œâ”€â”€ ReportFilterConfig.cs               # ç¯©é¸é…ç½®æ¨¡å‹
    â””â”€â”€ FilterTemplateRegistry.cs           # æ¨¡æ¿è¨»å†Šè¡¨ï¼ˆé›†ä¸­ç®¡ç†æ‰€æœ‰é…ç½®ï¼‰

Data/Reports/
â””â”€â”€ ReportRegistry.cs                       # å ±è¡¨è¨»å†Šè¡¨ï¼ˆä½¿ç”¨ ReportIds å¸¸æ•¸ï¼‰

Helpers/
â””â”€â”€ BatchReportHelper.cs                    # æ‰¹æ¬¡å ±è¡¨ç”¢ç”Ÿ Helper

Services/Reports/
â”œâ”€â”€ Interfaces/
â”‚   â”œâ”€â”€ IFormattedPrintService.cs
â”‚   â”œâ”€â”€ IExcelExportService.cs
â”‚   â”œâ”€â”€ IEntityReportService.cs
â”‚   â””â”€â”€ I[Entity]ReportService.cs
â”œâ”€â”€ FormattedPrintService.cs
â”œâ”€â”€ ExcelExportService.cs
â””â”€â”€ [Entity]ReportService.cs

Components/
â”œâ”€â”€ Layout/
â”‚   â””â”€â”€ MainLayout.razor                    # å¿«æ·éµæ•´åˆå…¥å£
â”œâ”€â”€ Shared/Report/
â”‚   â”œâ”€â”€ ReportPreviewModalComponent.razor   # å ±è¡¨é è¦½ Modal
â”‚   â”œâ”€â”€ GenericReportFilterModalComponent.razor
â”‚   â”œâ”€â”€ FilterTemplateInitializer.cs
â”‚   â”œâ”€â”€ FilterFieldRow.razor               # ç¯©é¸æ¬„ä½è¡Œï¼ˆçµ±ä¸€ä½ˆå±€ï¼‰
â”‚   â”œâ”€â”€ SearchSelectFilterComponent.razor  # æœå°‹å¼å¤šé¸
â”‚   â”œâ”€â”€ DateRangeFilterComponent.razor     # æ—¥æœŸç¯„åœ
â”‚   â”œâ”€â”€ TextSearchFilterComponent.razor    # æ–‡å­—æœå°‹
â”‚   â””â”€â”€ FilterTemplates/
â”‚       â””â”€â”€ DynamicFilterTemplate.razor    # é€šç”¨å‹•æ…‹ç¯©é¸æ¨¡æ¿ï¼ˆæ‰€æœ‰å ±è¡¨å…±ç”¨ï¼‰
â””â”€â”€ Pages/
    â”œâ”€â”€ Reports/
    â”‚   â””â”€â”€ GenericReportIndexPage.razor    # å ±è¡¨ä¸­å¿ƒ
    â””â”€â”€ [Module]/
        â””â”€â”€ [Entity]Index.razor             # å„æ¨¡çµ„ Index é é¢
```

---

## ğŸ”§ å ±è¡¨ ID å‘½åè¦å‰‡

| å‰ç¶´ | åˆ†é¡ | ç¯„ä¾‹ |
|------|------|------|
| AR | å®¢æˆ¶å ±è¡¨ | AR001ï¼ˆæ‡‰æ”¶å¸³æ¬¾ï¼‰ |
| AP | å» å•†å ±è¡¨ | AP001 |
| PO | æ¡è³¼å ±è¡¨ | PO001ï¼ˆæ¡è³¼å–®ï¼‰ã€PO002ï¼ˆé€²è²¨å–®ï¼‰ã€PO003ï¼ˆé€²è²¨é€€å‡ºå–®ï¼‰ |
| SO | éŠ·å”®å ±è¡¨ | SO001ï¼ˆå ±åƒ¹å–®ï¼‰ã€SO002ï¼ˆéŠ·è²¨å–®ï¼‰ã€SO004ï¼ˆå‡ºè²¨å–®ï¼‰ã€SO005ï¼ˆéŠ·è²¨é€€å›å–®ï¼‰ |
| IV | åº«å­˜å ±è¡¨ | IV001 |
| FN | è²¡å‹™å ±è¡¨ | FN001 |

### ä½¿ç”¨ ReportIds å¸¸æ•¸

æ‰€æœ‰å ±è¡¨ ID å‡å®šç¾©æ–¼ `Models/Reports/ReportIds.cs`ï¼Œ**ç¦æ­¢**åœ¨ç¨‹å¼ç¢¼ä¸­ç›´æ¥å¯«æ­»å­—ä¸²ï¼š

```csharp
// âœ… æ­£ç¢ºï¼šä½¿ç”¨å¸¸æ•¸
@using ERPCore2.Models.Reports
<GenericReportFilterModalComponent ReportId="@ReportIds.PurchaseOrder" ... />

// âŒ éŒ¯èª¤ï¼šç›´æ¥å¯«æ­»
<GenericReportFilterModalComponent ReportId="PO001" ... />
```

---

## âœ… å·²å¯¦ä½œé …ç›®

### å ±è¡¨æœå‹™

| æœå‹™ | å ±è¡¨ ID | ç‹€æ…‹ |
|------|---------|------|
| PurchaseOrderReportService | PO001 | âœ… å®Œæˆ |
| PurchaseReceivingReportService | PO002 | âœ… å®Œæˆ |
| PurchaseReturnReportService | PO003 | âœ… å®Œæˆ |
| QuotationReportService | SO001 | âœ… å®Œæˆ |
| SalesOrderReportService | SO002 | âœ… å®Œæˆ |
| SalesDeliveryReportService | SO004 | âœ… å®Œæˆ |
| SalesReturnReportService | SO005 | âœ… å®Œæˆ |

### ç¯©é¸æ¨¡æ¿ï¼ˆå…¨éƒ¨ä½¿ç”¨ DynamicFilterTemplate çµ±ä¸€ç”¢ç”Ÿ UIï¼‰

æ‰€æœ‰ç¯©é¸åŠŸèƒ½ç”±å–®ä¸€ `DynamicFilterTemplate.razor` è™•ç†ï¼Œé€éè®€å– Criteria é¡åˆ¥ä¸Šçš„ `Filter*Attribute` è‡ªå‹•ç”¢ç”Ÿç¯©é¸ UIï¼Œä¸å†éœ€è¦ç‚ºæ¯å€‹å ±è¡¨æ’°å¯«ç¨ç«‹çš„ FilterTemplate.razorã€‚

| åˆ†é¡ | æ•¸é‡ | ç‹€æ…‹ |
|------|------|------|
| äººè³‡ï¼ˆHRï¼‰ | 2 | âœ… å®Œæˆ |
| å®¢æˆ¶ï¼ˆARï¼‰ | 6 | âœ… å®Œæˆ |
| å» å•†ï¼ˆAPï¼‰ | 3 | âœ… å®Œæˆ |
| éŠ·å”®ï¼ˆSOï¼‰ | 4 | âœ… å®Œæˆ |
| æ¡è³¼ï¼ˆPOï¼‰ | 3 | âœ… å®Œæˆ |
| åº«å­˜ï¼ˆIVï¼‰ | 2 | âœ… å®Œæˆ |
| ç”Ÿç”¢ï¼ˆPDï¼‰ | 2 | âœ… å®Œæˆ |
| ç”¢å“ï¼ˆPDï¼‰ | 2 | âœ… å®Œæˆ |
| è»Šè¼›ï¼ˆVHï¼‰ | 2 | âœ… å®Œæˆ |

> è©³ç´°æ¸…å–®è«‹è¦‹ [README_å ±è¡¨ç¯©é¸æ¶æ§‹è¨­è¨ˆ.md](README_å ±è¡¨ç¯©é¸æ¶æ§‹è¨­è¨ˆ.md)

### Index åˆ—å°ï¼ˆä½¿ç”¨ GenericReportFilterModalComponentï¼‰

| Index é é¢ | å ±è¡¨ ID | ç‹€æ…‹ |
|-----------|---------|------|
| PurchaseOrderIndex | PO001 | âœ… å®Œæˆ |
| PurchaseReceivingIndex | PR001 | â³ å¾…å¯¦ä½œ |
| PurchaseReturnIndex | PRT001 | â³ å¾…å¯¦ä½œ |
| SalesOrderIndex | SO001 | â³ å¾…å¯¦ä½œ |
| QuotationIndex | QT001 | â³ å¾…å¯¦ä½œ |

---

## ğŸ“‹ æ–°å¢å ±è¡¨å¿«é€ŸæŒ‡å—

### æƒ…å¢ƒ Aï¼šåœ¨ EditModal æ–°å¢åˆ—å°åŠŸèƒ½

1. ç¢ºèªå ±è¡¨æœå‹™å·²å¯¦ä½œ `IEntityReportService<T>`
2. åœ¨ EditModalComponent è¨­å®šåƒæ•¸ï¼š

```razor
<GenericEditModalComponent 
    ShowPrintButton="true"
    ReportService="@ReportService"
    ReportId="PO001"
    ReportPreviewTitle="æ¡è³¼å–®é è¦½"
    GetReportDocumentName="@(e => $"æ¡è³¼å–®-{e.Code}")" />
```

ğŸ“– è©³è¦‹ [README_å ±è¡¨æª”è¨­è¨ˆ.md](README_å ±è¡¨æª”è¨­è¨ˆ.md)

---

### æƒ…å¢ƒ Bï¼šåœ¨ Index é é¢æ–°å¢æ‰¹æ¬¡åˆ—å°

1. ç¢ºèªå ±è¡¨å·²åœ¨ FilterTemplateRegistry è¨»å†Š
2. åœ¨ Index é é¢æ”¾ç½® GenericReportFilterModalComponentï¼š

```razor
<GenericIndexPageComponent 
    ShowBatchPrintButton="true"
    OnBatchPrintClick="@HandleBatchPrintAsync" />

<GenericReportFilterModalComponent 
    IsVisible="@showBatchPrintModal"
    IsVisibleChanged="@((bool v) => showBatchPrintModal = v)"
    ReportId="PO001" />
```

ğŸ“– è©³è¦‹ [README_å ±è¡¨Indexè¨­è¨ˆ.md](README_å ±è¡¨Indexè¨­è¨ˆ.md)

---

### æƒ…å¢ƒ Cï¼šæ–°å¢å…¨æ–°å ±è¡¨ï¼ˆå«ç¯©é¸ï¼‰

1. å»ºç«‹ç¯©é¸æ¢ä»¶ DTOï¼ˆå¯¦ä½œ `IReportFilterCriteria`ï¼‰
   - åœ¨å±¬æ€§ä¸ŠåŠ  `Filter*Attribute` å®£å‘Šç¯©é¸æ¬„ä½ï¼š
     - `[FilterFK(typeof(IXxxService), Label="...", Order=N)]` â€” FK å¤šé¸ä¸‹æ‹‰
     - `[FilterEnum(typeof(XxxEnum), Label="...", Order=N)]` â€” Enum å¤šé¸ä¸‹æ‹‰
     - `[FilterDateRange(Label="...", Order=N)]` â€” æ—¥æœŸç¯„åœï¼ˆæ¨™åœ¨ Start å±¬æ€§ï¼‰
     - `[FilterKeyword(Label="...", Order=N)]` â€” é—œéµå­—æ–‡å­—æœå°‹
     - `[FilterToggle(Label="...", CheckboxLabel="...", DefaultValue=true, Order=N)]` â€” Checkbox åˆ‡æ›
2. åœ¨ `FilterTemplateRegistry` çš„ `Initialize()` ä¸­æ–°å¢é…ç½®ï¼ŒæŒ‡å®š `DynamicFilterTemplate`
3. åœ¨ `ReportRegistry` ç¢ºèªå ±è¡¨ `IsEnabled = true`

```csharp
// FilterTemplateRegistry.cs ç¯„ä¾‹
RegisterConfig(new ReportFilterConfig
{
    ReportId = ReportIds.SomerePort,
    FilterTemplateTypeName = "ERPCore2.Components.Shared.Report.FilterTemplates.DynamicFilterTemplate",
    CriteriaType = typeof(SomeReportCriteria),
    ...
});
```

ğŸ“– è©³è¦‹ [README_å ±è¡¨ç¯©é¸æ¶æ§‹è¨­è¨ˆ.md](README_å ±è¡¨ç¯©é¸æ¶æ§‹è¨­è¨ˆ.md)

---

### æƒ…å¢ƒ Dï¼šæ–°å¢å ±è¡¨æœå‹™

1. å»ºç«‹ä»‹é¢ï¼ˆç¹¼æ‰¿ `IEntityReportService<T>`ï¼‰
2. å¯¦ä½œæœå‹™ï¼ˆä½¿ç”¨ `FormattedDocument` Fluent APIï¼‰
3. åœ¨ ServiceRegistration.cs è¨»å†Šæœå‹™
4. åœ¨ ReportRegistry.cs è¨»å†Šå ±è¡¨å®šç¾©

ğŸ“– è©³è¦‹ [README_å ±è¡¨æª”è¨­è¨ˆ.md](README_å ±è¡¨æª”è¨­è¨ˆ.md)

---

## âš ï¸ æ³¨æ„äº‹é …

1. **Windows å°ˆå±¬**ï¼š`FormattedPrintService` ä½¿ç”¨ `System.Drawing.Printing`ï¼Œåƒ…æ”¯æ´ Windows
2. **Excel åŒ¯å‡ºè·¨å¹³å°**ï¼š`ExcelExportService` ä½¿ç”¨ ClosedXMLï¼Œæ”¯æ´æ‰€æœ‰å¹³å°
3. **å–®ä¸€å ±è¡¨ ID åŸå‰‡**ï¼šæ¯å€‹å–®æ“šé¡å‹åªæœ‰ä¸€å€‹å ±è¡¨ IDï¼Œå…¥å£é»æ±ºå®šæµç¨‹
4. **DynamicFilterTemplate å…±ç”¨**ï¼šæ‰€æœ‰å ±è¡¨å…±ç”¨å–®ä¸€ `DynamicFilterTemplate.razor`ï¼Œç¯©é¸ UI ç”± Criteria å±¬æ€§ä¸Šçš„ `Filter*Attribute` é©…å‹•ï¼Œæ–°å¢ç¯©é¸æ¬„ä½åªéœ€ä¿®æ”¹ Criteria é¡åˆ¥

---

## ç›¸é—œæª”æ¡ˆ

- [README_å ±è¡¨ä¸­å¿ƒè¨­è¨ˆ.md](README_å ±è¡¨ä¸­å¿ƒè¨­è¨ˆ.md) - å ±è¡¨ä¸­å¿ƒå…¥å£
- [README_å ±è¡¨ç¯©é¸æ¶æ§‹è¨­è¨ˆ.md](README_å ±è¡¨ç¯©é¸æ¶æ§‹è¨­è¨ˆ.md) - ç¯©é¸æ¨¡æ¿æ©Ÿåˆ¶
- [README_å ±è¡¨æª”è¨­è¨ˆ.md](README_å ±è¡¨æª”è¨­è¨ˆ.md) - å ±è¡¨æœå‹™èˆ‡åˆ—å°
- [README_å ±è¡¨Indexè¨­è¨ˆ.md](README_å ±è¡¨Indexè¨­è¨ˆ.md) - Index æ‰¹æ¬¡åˆ—å°
- [README_å¿«æ·éµè¨­è¨ˆ.md](../å…±ç”¨å…ƒä»¶è¨­è¨ˆ/README_å¿«æ·éµè¨­è¨ˆ.md) - Alt+R å¿«æ·éµ
